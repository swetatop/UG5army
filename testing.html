<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Military Academy - –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</title>
    <style>
        :root {
            --bg: #0D0F15;
            --card: #1A1D25;
            --accent: #2A2E3A;
            --text: #FFFFFF;
            --primary: #5D8C42;
            --primary-hover: #6D9C52;
            --success: #4CAF50;
            --warning: #ff9800;
            --error: #f44336;
            --text-gray: #CCCCCC;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: var(--bg);
            color: var(--text);
            font-family: 'Inter', Arial, sans-serif;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* –ù–∞–≤—ñ–≥–∞—Ü—ñ—è */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .tab {
            background: var(--card);
            border: none;
            color: var(--text);
            padding: 12px 24px;
            border-radius: 8px 8px 0 0;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 120px;
            text-align: center;
        }
        
        .tab:hover {
            background: var(--accent);
        }
        
        .tab.active {
            background: var(--primary);
        }
        
        /* –ö–∞—Ä—Ç–∫–∏ */
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid var(--accent);
            box-shadow: var(--shadow);
        }
        
        /* –§–æ—Ä–º–∏ */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-gray);
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--accent);
            border-radius: 8px;
            color: var(--text);
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(93, 140, 66, 0.2);
        }
        
        select.form-control {
            background: rgba(255,255,255,0.1);
            color: var(--text);
            cursor: pointer;
        }
        
        select.form-control option {
            background: var(--card);
            color: var(--text);
        }
        
        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-success {
            background: var(--success);
        }
        
        .btn-warning {
            background: var(--warning);
        }
        
        .btn-error {
            background: var(--error);
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 14px;
        }
        
        .btn-block {
            width: 100%;
        }
        
        /* –ü–∏—Ç–∞–Ω–Ω—è —Ç–µ—Å—Ç—É */
        .question-card {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .question-points {
            background: var(--primary);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            white-space: nowrap;
        }
        
        /* –ö–Ω–æ–ø–∫–∏ –æ—Ü—ñ–Ω–∫–∏ */
        .rating-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .rating-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        .rating-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        /* –ü—Ä–æ–≥—Ä–µ—Å –±–∞—Ä */
        .progress-container {
            background: var(--accent);
            border-radius: 10px;
            height: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            background: var(--primary);
            height: 100%;
            transition: width 0.3s;
            position: relative;
        }
        
        .progress-text {
            text-align: center;
            margin-top: 10px;
            color: var(--text-gray);
            font-size: 14px;
        }
        
        /* –Ü—Å—Ç–æ—Ä—ñ—è */
        .history-item {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
            transition: transform 0.2s;
        }
        
        .history-item:hover {
            transform: translateX(5px);
        }
        
        .history-date {
            color: var(--text-gray);
            font-size: 12px;
        }
        
        .test-passed {
            border-left-color: var(--success);
        }
        
        .test-failed {
            border-left-color: var(--error);
        }
        
        .result-status {
            font-weight: bold;
            margin-top: 5px;
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
        }
        
        .status-passed {
            background: rgba(76, 175, 80, 0.2);
            color: var(--success);
        }
        
        .status-failed {
            background: rgba(244, 67, 54, 0.2);
            color: var(--error);
        }
        
        /* –ü—Ä–∏—Ö–æ–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ */
        .page {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .page.active {
            display: block;
        }
        
        /* –ê–Ω—ñ–º–∞—Ü—ñ—ó */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            box-shadow: var(--shadow);
            transform: translateX(150%);
            transition: transform 0.3s ease;
            max-width: 300px;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background: var(--success);
        }
        
        .notification.error {
            background: var(--error);
        }
        
        .notification.warning {
            background: var(--warning);
        }
        
        /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
        h1, h2, h3, h4 {
            margin-bottom: 15px;
            color: var(--text);
        }
        
        h2 {
            border-bottom: 1px solid var(--accent);
            padding-bottom: 10px;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .card {
                padding: 15px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                border-radius: 8px;
                margin-bottom: 5px;
            }
            
            .rating-buttons {
                flex-direction: column;
            }
            
            .rating-btn {
                min-width: auto;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
        
        /* –î–æ–¥–∞—Ç–∫–æ–≤—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-gray);
        }
        
        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            display: block;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--text-gray);
        }
        
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: var(--accent);
            color: var(--text);
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 14px;
            box-shadow: var(--shadow);
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ */
        .back-to-main {
            background: var(--primary);
            color: var(--text);
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin-bottom: 20px;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-to-main:hover {
            background: var(--primary-hover);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —Å–∞–π—Ç -->
        <a href="index.html" class="back-to-main">‚Üê –ù–∞–∑–∞–¥ –¥–æ Military Academy</a>

        <h1>üß™ –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∫—É—Ä—Å–∞–Ω—Ç—ñ–≤</h1>
        
        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
        <div class="tabs">
            <button class="tab active" onclick="showPage('testing')">üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è</button>
            <button class="tab" onclick="showPage('tests')">üìù –¢–µ—Å—Ç–∏</button>
            <button class="tab" onclick="showPage('history')">üìä –Ü—Å—Ç–æ—Ä—ñ—è</button>
            <button class="tab" onclick="showPage('stats')">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </div>

        <!-- –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è -->
        <div id="testing" class="page active">
            <!-- –ü–æ—á–∞—Ç–æ–∫ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è -->
            <div class="card">
                <h2>üß™ –ü–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h2>
                
                <div class="form-group">
                    <label>–Ü–≥—Ä–æ–≤–∏–π ID –∫—É—Ä—Å–∞–Ω—Ç–∞: <span class="tooltip">‚ÑπÔ∏è
                        <span class="tooltiptext">–í–≤–µ–¥—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫—É—Ä—Å–∞–Ω—Ç–∞ (4-6 —Ü–∏—Ñ—Ä, —Å–∏–º–≤–æ–ª # –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π)</span>
                    </span></label>
                    <input type="text" class="form-control" id="cadet-id" placeholder="22222" pattern="[0-9]{4,6}" title="–§–æ—Ä–º–∞—Ç: 4-6 —Ü–∏—Ñ—Ä">
                </div>
                
                <div class="form-group">
                    <label>–Ü–≥—Ä–æ–≤–∏–π ID —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞: <span class="tooltip">‚ÑπÔ∏è
                        <span class="tooltiptext">–í–≤–µ–¥—ñ—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ (4-6 —Ü–∏—Ñ—Ä, —Å–∏–º–≤–æ–ª # –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π)</span>
                    </span></label>
                    <input type="text" class="form-control" id="instructor-id" placeholder="23141" pattern="[0-9]{4,6}" title="–§–æ—Ä–º–∞—Ç: 4-6 —Ü–∏—Ñ—Ä">
                </div>
                
                <div class="form-group">
                    <label>–¢–µ—Å—Ç:</label>
                    <select class="form-control" id="current-test">
                        <option value="">-- –û–±–µ—Ä—ñ—Ç—å —Ç–µ—Å—Ç --</option>
                    </select>
                </div>
                
                <button class="btn btn-block" onclick="startTesting()">–ü–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</button>
            </div>

            <!-- –û–±–ª–∞—Å—Ç—å —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è -->
            <div id="testing-area" style="display: none;">
                <div class="card">
                    <div class="question-header">
                        <h3 id="question-text">–ü–∏—Ç–∞–Ω–Ω—è –±—É–¥–µ —Ç—É—Ç</h3>
                        <div class="question-points" id="question-points">0 –±–∞–ª—ñ–≤</div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ü—Ä–∏–±–ª–∏–∑–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:</label>
                        <div class="card" style="background: rgba(255,255,255,0.1);">
                            <p id="correct-answer-text">–í—ñ–¥–ø–æ–≤—ñ–¥—å –±—É–¥–µ —Ç—É—Ç</p>
                        </div>
                    </div>
                    
                    <div class="rating-buttons">
                        <button class="rating-btn btn-success" onclick="rateAnswer('correct')">
                            <span>‚úÖ</span>
                            <span>–ü—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                            <small>(<span id="full-points">0</span> –±–∞–ª—ñ–≤)</small>
                        </button>
                        <button class="rating-btn btn-warning" onclick="rateAnswer('partial')">
                            <span>‚ö†Ô∏è</span>
                            <span>–ù–µ—á—ñ—Ç–∫–æ</span>
                            <small>(<span id="half-points">0</span> –±–∞–ª—ñ–≤)</small>
                        </button>
                        <button class="rating-btn btn-error" onclick="rateAnswer('wrong')">
                            <span>‚ùå</span>
                            <span>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                            <small>(0 –±–∞–ª—ñ–≤)</small>
                        </button>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar" id="progress-bar" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="progress-text">–ü–∏—Ç–∞–Ω–Ω—è 0 –∑ 0</div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <strong>–†–µ–∑—É–ª—å—Ç–∞—Ç: <span id="current-score">0</span>/<span id="total-points">12</span> –±–∞–ª—ñ–≤</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Ç–µ—Å—Ç—ñ–≤ -->
        <div id="tests" class="page">
            <div class="card">
                <h2>üìù –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–µ—Å—Ç–∞–º–∏</h2>
                
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞ —Ç–µ—Å—Ç—É:</label>
                    <input type="text" class="form-control" id="test-name" placeholder="–°—Ç—Ä–æ–π–æ–≤–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞">
                </div>

                <div class="form-group">
                    <label>–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–ª—ñ–≤ –¥–ª—è —É—Å–ø—ñ—Ö—É:</label>
                    <input type="number" class="form-control" id="min-passing-score" value="7" min="1" max="12">
                    <small style="color: var(--text-gray);">–ú—ñ–Ω—ñ–º—É–º 1, –º–∞–∫—Å–∏–º—É–º 12 –±–∞–ª—ñ–≤</small>
                </div>
                
                <div id="questions-container">
                    <!-- –ü–∏—Ç–∞–Ω–Ω—è –±—É–¥—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏—Å—å —Å—é–¥–∏ -->
                </div>
                
                <button class="btn btn-small" onclick="addQuestion()">+ –î–æ–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è</button>
                
                <div style="margin-top: 20px; text-align: center;">
                    <strong>–°—É–º–∞ –±–∞–ª—ñ–≤: <span id="total-score">0</span>/12</strong>
                    <div class="progress-container" style="margin-top: 10px;">
                        <div class="progress-bar" id="total-score-bar" style="width: 0%"></div>
                    </div>
                </div>
                
                <button class="btn btn-block" onclick="saveTest()" style="margin-top: 20px;">–ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–µ—Å—Ç</button>
            </div>
            
            <div class="card">
                <h3>üìö –ó–±–µ—Ä–µ–∂–µ–Ω—ñ —Ç–µ—Å—Ç–∏</h3>
                <div id="saved-tests">
                    <!-- –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç—ñ–≤ –±—É–¥–µ —Ç—É—Ç -->
                </div>
            </div>
        </div>

        <!-- –°—Ç–æ—Ä—ñ–Ω–∫–∞ —ñ—Å—Ç–æ—Ä—ñ—ó -->
        <div id="history" class="page">
            <div class="card">
                <h2>üìä –Ü—Å—Ç–æ—Ä—ñ—è —Ç–µ—Å—Ç—É–≤–∞–Ω—å</h2>
                
                <div class="form-group">
                    <input type="text" class="form-control" id="search-history" placeholder="–ü–æ—à—É–∫ –ø–æ ID –∫—É—Ä—Å–∞–Ω—Ç–∞ –∞–±–æ —ñ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞...">
                </div>
                
                <div id="history-list">
                    <!-- –Ü—Å—Ç–æ—Ä—ñ—è –±—É–¥–µ —Ç—É—Ç -->
                </div>
            </div>
        </div>

        <!-- –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div id="stats" class="page">
            <div class="card">
                <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω—å</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="total-tests">0</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω—å</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="passed-tests">0</div>
                        <div class="stat-label">–£—Å–ø—ñ—à–Ω–∏—Ö</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="failed-tests">0</div>
                        <div class="stat-label">–ù–µ—É—Å–ø—ñ—à–Ω–∏—Ö</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="success-rate">0%</div>
                        <div class="stat-label">–£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å</div>
                    </div>
                </div>
                
                <h3>–û—Å—Ç–∞–Ω–Ω—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</h3>
                <div id="recent-tests">
                    <!-- –û—Å—Ç–∞–Ω–Ω—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –±—É–¥—É—Ç—å —Ç—É—Ç -->
                </div>
            </div>
        </div>
    </div>

    <!-- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è -->
    <div id="notification" class="notification"></div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let tests = JSON.parse(localStorage.getItem('tests')) || [];
        let history = JSON.parse(localStorage.getItem('testing_history')) || [];
        
        let currentTest = null;
        let currentQuestionIndex = 0;
        let currentScore = 0;
        let currentTestingSession = null;

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        function initialize() {
            updateTestsList();
            updateHistory();
            populateTestSelect();
            updateStats();
            
            // –î–æ–¥–∞—î–º–æ –ø—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É, —è–∫—â–æ —Å–ø–∏—Å–æ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π
            if (tests.length === 0) {
                createSampleTest();
            }
        }

        // –ù–∞–≤—ñ–≥–∞—Ü—ñ—è
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.getElementById(pageId).classList.add('active');
            event.target.classList.add('active');
            
            // –û–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥—ñ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            if (pageId === 'stats') {
                updateStats();
            }
        }

        // –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type} show`;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–µ—Å—Ç–∞–º–∏
        function addQuestion() {
            const container = document.getElementById('questions-container');
            const questionId = 'question_' + Date.now();
            
            const questionHtml = `
                <div class="question-card" id="${questionId}">
                    <div class="form-group">
                        <label>–¢–µ–∫—Å—Ç –ø–∏—Ç–∞–Ω–Ω—è:</label>
                        <textarea class="form-control" placeholder="–û–ø–∏—à–∏ –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ –ø—Ä–∏—Å—è–≥–∏"></textarea>
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–∏–±–ª–∏–∑–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:</label>
                        <textarea class="form-control" placeholder="–ü–æ–±—É–¥–æ–≤–∞, –∑–∞—á–∏—Ç–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É, –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è"></textarea>
                    </div>
                    <div class="form-group">
                        <label>–ë–∞–ª–∏ –∑–∞ –ø–∏—Ç–∞–Ω–Ω—è:</label>
                        <input type="number" class="form-control" value="2" min="1" max="12" onchange="updateTotalScore()">
                    </div>
                    <button class="btn btn-small btn-error" onclick="removeQuestion('${questionId}')">–í–∏–¥–∞–ª–∏—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è</button>
                </div>
            `;
            
            container.insertAdjacentHTML('beforeend', questionHtml);
            updateTotalScore();
        }

        function removeQuestion(questionId) {
            if (confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ –ø–∏—Ç–∞–Ω–Ω—è?')) {
                document.getElementById(questionId).remove();
                updateTotalScore();
                showNotification('–ü–∏—Ç–∞–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ', 'warning');
            }
        }

        function updateTotalScore() {
            let total = 0;
            document.querySelectorAll('#questions-container input[type="number"]').forEach(input => {
                total += parseInt(input.value) || 0;
            });
            document.getElementById('total-score').textContent = total;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å –±–∞—Ä
            const progress = (total / 12) * 100;
            document.getElementById('total-score-bar').style.width = progress + '%';
            
            // –ó–º—ñ–Ω—é—î–º–æ –∫–æ–ª—ñ—Ä –ø—Ä–æ–≥—Ä–µ—Å –±–∞—Ä—É –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ —Å—É–º–∏ –±–∞–ª—ñ–≤
            if (total === 12) {
                document.getElementById('total-score-bar').style.background = 'var(--success)';
            } else if (total > 12) {
                document.getElementById('total-score-bar').style.background = 'var(--error)';
            } else {
                document.getElementById('total-score-bar').style.background = 'var(--primary)';
            }
        }

        function saveTest() {
            const testName = document.getElementById('test-name').value.trim();
            const totalScore = parseInt(document.getElementById('total-score').textContent);
            const minPassingScore = parseInt(document.getElementById('min-passing-score').value);
            
            if (!testName) {
                showNotification('–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–µ—Å—Ç—É', 'error');
                return;
            }
            
            if (totalScore !== 12) {
                showNotification(`–°—É–º–∞ –±–∞–ª—ñ–≤ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ 12. –ó–∞—Ä–∞–∑: ${totalScore}`, 'error');
                return;
            }

            if (minPassingScore < 1 || minPassingScore > 12) {
                showNotification('–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –±–∞–ª—ñ–≤ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –≤—ñ–¥ 1 –¥–æ 12', 'error');
                return;
            }
            
            const questions = [];
            document.querySelectorAll('#questions-container .question-card').forEach(card => {
                const textarea = card.querySelector('textarea');
                const answerTextarea = card.querySelectorAll('textarea')[1];
                const pointsInput = card.querySelector('input[type="number"]');
                
                questions.push({
                    text: textarea.value,
                    correctAnswer: answerTextarea.value,
                    points: parseInt(pointsInput.value)
                });
            });
            
            if (questions.length === 0) {
                showNotification('–î–æ–¥–∞–π—Ç–µ —Ö–æ—á–∞ –± –æ–¥–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è', 'error');
                return;
            }
            
            const test = {
                id: 'test_' + Date.now(),
                name: testName,
                questions: questions,
                totalPoints: totalScore,
                minPassingScore: minPassingScore,
                date: new Date().toLocaleString('uk-UA')
            };
            
            tests.push(test);
            localStorage.setItem('tests', JSON.stringify(tests));
            updateTestsList();
            populateTestSelect();
            
            // –û—á–∏—Å—Ç–∏—Ç–∏ —Ñ–æ—Ä–º—É
            document.getElementById('test-name').value = '';
            document.getElementById('min-passing-score').value = '7';
            document.getElementById('questions-container').innerHTML = '';
            document.getElementById('total-score').textContent = '0';
            document.getElementById('total-score-bar').style.width = '0%';
            
            showNotification('–¢–µ—Å—Ç —É—Å–ø—ñ—à–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!');
        }

        function updateTestsList() {
            const container = document.getElementById('saved-tests');
            container.innerHTML = '';
            
            if (tests.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div>üìù</div>
                        <p>–ù–µ–º–∞—î –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —Ç–µ—Å—Ç—ñ–≤</p>
                        <button class="btn btn-small" onclick="createSampleTest()">–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É</button>
                    </div>
                `;
                return;
            }
            
            tests.forEach(test => {
                const item = document.createElement('div');
                item.className = 'question-card';
                item.innerHTML = `
                    <h4>${test.name}</h4>
                    <p>–ü–∏—Ç–∞–Ω–Ω—è: ${test.questions.length} | –ë–∞–ª–∏: ${test.totalPoints}</p>
                    <p>–ú—ñ–Ω—ñ–º—É–º –¥–ª—è —É—Å–ø—ñ—Ö—É: ${test.minPassingScore} –±–∞–ª—ñ–≤</p>
                    <div style="margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-small" onclick="loadTest('${test.id}')">–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏</button>
                        <button class="btn btn-small btn-warning" onclick="editTest('${test.id}')">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
                        <button class="btn btn-small btn-error" onclick="deleteTest('${test.id}')">–í–∏–¥–∞–ª–∏—Ç–∏</button>
                    </div>
                `;
                container.appendChild(item);
            });
        }

        function loadTest(testId) {
            currentTest = tests.find(t => t.id === testId);
            showPage('testing');
            document.getElementById('current-test').value = testId;
            showNotification(`–¢–µ—Å—Ç "${currentTest.name}" –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ`);
        }

        function editTest(testId) {
            const test = tests.find(t => t.id === testId);
            if (!test) return;
            
            showPage('tests');
            
            // –ó–∞–ø–æ–≤–Ω—é—î–º–æ —Ñ–æ—Ä–º—É –¥–∞–Ω–∏–º–∏ —Ç–µ—Å—Ç—É
            document.getElementById('test-name').value = test.name;
            document.getElementById('min-passing-score').value = test.minPassingScore;
            
            // –û—á–∏—â–∞—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∏—Ç–∞–Ω—å
            document.getElementById('questions-container').innerHTML = '';
            
            // –î–æ–¥–∞—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è
            test.questions.forEach(question => {
                const questionId = 'question_' + Date.now();
                const questionHtml = `
                    <div class="question-card" id="${questionId}">
                        <div class="form-group">
                            <label>–¢–µ–∫—Å—Ç –ø–∏—Ç–∞–Ω–Ω—è:</label>
                            <textarea class="form-control">${question.text}</textarea>
                        </div>
                        <div class="form-group">
                            <label>–ü—Ä–∏–±–ª–∏–∑–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å:</label>
                            <textarea class="form-control">${question.correctAnswer}</textarea>
                        </div>
                        <div class="form-group">
                            <label>–ë–∞–ª–∏ –∑–∞ –ø–∏—Ç–∞–Ω–Ω—è:</label>
                            <input type="number" class="form-control" value="${question.points}" min="1" max="12" onchange="updateTotalScore()">
                        </div>
                        <button class="btn btn-small btn-error" onclick="removeQuestion('${questionId}')">–í–∏–¥–∞–ª–∏—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è</button>
                    </div>
                `;
                
                document.getElementById('questions-container').insertAdjacentHTML('beforeend', questionHtml);
            });
            
            updateTotalScore();
            
            // –í–∏–¥–∞–ª—è—î–º–æ —Å—Ç–∞—Ä–∏–π —Ç–µ—Å—Ç
            deleteTest(testId, false);
            
            showNotification(`–¢–µ—Å—Ç "${test.name}" –≤—ñ–¥–∫—Ä–∏—Ç–æ –¥–ª—è —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è`);
        }

        function deleteTest(testId, showConfirm = true) {
            if (!showConfirm || confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç–µ—Å—Ç?')) {
                tests = tests.filter(t => t.id !== testId);
                localStorage.setItem('tests', JSON.stringify(tests));
                updateTestsList();
                populateTestSelect();
                
                if (showConfirm) {
                    showNotification('–¢–µ—Å—Ç –≤–∏–¥–∞–ª–µ–Ω–æ', 'warning');
                }
            }
        }

        // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
        function startTesting() {
            const cadetId = document.getElementById('cadet-id').value.trim();
            const instructorId = document.getElementById('instructor-id').value.trim();
            const testId = document.getElementById('current-test').value;
            
            // –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
            if (!cadetId || !instructorId || !testId) {
                showNotification('–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è', 'error');
                return;
            }
            
            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É ID (4-6 —Ü–∏—Ñ—Ä, —Å–∏–º–≤–æ–ª # –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π)
            const idRegex = /^#?[0-9]{4,6}$/;
            if (!idRegex.test(cadetId) || !idRegex.test(instructorId)) {
                showNotification('ID –ø–æ–≤–∏–Ω–Ω—ñ –º—ñ—Å—Ç–∏—Ç–∏ 4-6 —Ü–∏—Ñ—Ä (—Å–∏–º–≤–æ–ª # –Ω–µ –æ–±–æ–≤\'—è–∑–∫–æ–≤–∏–π)', 'error');
                return;
            }
            
            currentTest = tests.find(t => t.id === testId);
            currentQuestionIndex = 0;
            currentScore = 0;
            
            currentTestingSession = {
                cadetId: cadetId,
                instructorId: instructorId,
                testId: testId,
                startTime: new Date().toLocaleString('uk-UA'),
                answers: []
            };
            
            document.getElementById('testing-area').style.display = 'block';
            showQuestion();
            
            showNotification(`–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–ø–æ—á–∞—Ç–æ –¥–ª—è –∫—É—Ä—Å–∞–Ω—Ç–∞ ${cadetId}`);
        }

        function showQuestion() {
            if (!currentTest || currentQuestionIndex >= currentTest.questions.length) {
                finishTesting();
                return;
            }
            
            const question = currentTest.questions[currentQuestionIndex];
            
            document.getElementById('question-text').textContent = question.text;
            document.getElementById('correct-answer-text').textContent = question.correctAnswer;
            document.getElementById('question-points').textContent = question.points + ' –±–∞–ª—ñ–≤';
            document.getElementById('full-points').textContent = question.points;
            document.getElementById('half-points').textContent = (question.points / 2).toFixed(1);
            document.getElementById('total-points').textContent = currentTest.totalPoints;
            
            const progress = (currentQuestionIndex / currentTest.questions.length) * 100;
            document.getElementById('progress-bar').style.width = progress + '%';
            document.getElementById('current-score').textContent = currentScore;
            document.getElementById('progress-text').textContent = `–ü–∏—Ç–∞–Ω–Ω—è ${currentQuestionIndex + 1} –∑ ${currentTest.questions.length}`;
        }

        function rateAnswer(rating) {
            const question = currentTest.questions[currentQuestionIndex];
            let pointsEarned = 0;
            
            switch (rating) {
                case 'correct':
                    pointsEarned = question.points;
                    break;
                case 'partial':
                    pointsEarned = question.points / 2;
                    break;
                case 'wrong':
                    pointsEarned = 0;
                    break;
            }
            
            currentScore += pointsEarned;
            currentTestingSession.answers.push({
                question: question.text,
                rating: rating,
                pointsEarned: pointsEarned,
                maxPoints: question.points
            });
            
            currentQuestionIndex++;
            showQuestion();
        }

        function finishTesting() {
            const isPassed = currentScore >= currentTest.minPassingScore;
            const status = isPassed ? "–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–∏–π —É—Å–ø—ñ—à–Ω–æ" : "–¢–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–µ–Ω–∏–π";
            
            const result = {
                id: 'result_' + Date.now(),
                cadetId: currentTestingSession.cadetId,
                instructorId: currentTestingSession.instructorId,
                testName: currentTest.name,
                score: currentScore,
                maxScore: currentTest.totalPoints,
                minPassingScore: currentTest.minPassingScore,
                isPassed: isPassed,
                status: status,
                date: new Date().toLocaleString('uk-UA'),
                answers: currentTestingSession.answers
            };
            
            history.push(result);
            localStorage.setItem('testing_history', JSON.stringify(history));
            
            // –ü–æ–∫–∞–∑–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const percentage = ((currentScore / currentTest.totalPoints) * 100).toFixed(1);
            const message = `–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–æ!\n–†–µ–∑—É–ª—å—Ç–∞—Ç: ${currentScore}/${currentTest.totalPoints} –±–∞–ª—ñ–≤ (${percentage}%)\n${status}`;
            
            showNotification(message, isPassed ? 'success' : 'error');
            
            document.getElementById('testing-area').style.display = 'none';
            updateHistory();
            updateStats();
            
            // –û—á–∏—Å—Ç–∏—Ç–∏ –ø–æ–ª—è
            document.getElementById('cadet-id').value = '';
            document.getElementById('instructor-id').value = '';
            document.getElementById('current-test').value = '';
        }

        // –Ü—Å—Ç–æ—Ä—ñ—è
        function updateHistory() {
            const container = document.getElementById('history-list');
            container.innerHTML = '';
            
            if (history.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div>üìä</div>
                        <p>–Ü—Å—Ç–æ—Ä—ñ—è —Ç–µ—Å—Ç—É–≤–∞–Ω—å –ø–æ—Ä–æ–∂–Ω—è</p>
                    </div>
                `;
                return;
            }
            
            // –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–∞—Ç–æ—é (–Ω–æ–≤—ñ—à—ñ –∑–≤–µ—Ä—Ö—É)
            const sortedHistory = [...history].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedHistory.forEach(record => {
                const percentage = ((record.score / record.maxScore) * 100).toFixed(1);
                const itemClass = record.isPassed ? 'history-item test-passed' : 'history-item test-failed';
                const statusClass = record.isPassed ? 'status-passed' : 'status-failed';
                
                const item = document.createElement('div');
                item.className = itemClass;
                item.innerHTML = `
                    <div class="history-date">${record.date}</div>
                    <strong>${record.cadetId}</strong> (—ñ–Ω—Å—Ç—Ä. ${record.instructorId})<br>
                    –¢–µ—Å—Ç: "${record.testName}"<br>
                    –†–µ–∑—É–ª—å—Ç–∞—Ç: <strong>${record.score}/${record.maxScore}</strong> (${percentage}%)<br>
                    –ú—ñ–Ω—ñ–º—É–º: ${record.minPassingScore} –±–∞–ª—ñ–≤<br>
                    <div class="result-status ${statusClass}">${record.status}</div>
                    <button class="btn btn-small btn-error" onclick="deleteHistoryRecord('${record.id}')" style="float: right;">–í–∏–¥–∞–ª–∏—Ç–∏</button>
                `;
                container.appendChild(item);
            });
        }

        function deleteHistoryRecord(recordId) {
            if (confirm('–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Å —ñ—Å—Ç–æ—Ä—ñ—ó?')) {
                history = history.filter(h => h.id !== recordId);
                localStorage.setItem('testing_history', JSON.stringify(history));
                updateHistory();
                updateStats();
                showNotification('–ó–∞–ø–∏—Å —ñ—Å—Ç–æ—Ä—ñ—ó –≤–∏–¥–∞–ª–µ–Ω–æ', 'warning');
            }
        }

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        function updateStats() {
            const totalTests = history.length;
            const passedTests = history.filter(h => h.isPassed).length;
            const failedTests = totalTests - passedTests;
            const successRate = totalTests > 0 ? ((passedTests / totalTests) * 100).toFixed(1) : 0;
            
            document.getElementById('total-tests').textContent = totalTests;
            document.getElementById('passed-tests').textContent = passedTests;
            document.getElementById('failed-tests').textContent = failedTests;
            document.getElementById('success-rate').textContent = `${successRate}%`;
            
            // –û–Ω–æ–≤–ª—é—î–º–æ —Å–ø–∏—Å–æ–∫ –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —Ç–µ—Å—Ç—É–≤–∞–Ω—å
            const recentContainer = document.getElementById('recent-tests');
            recentContainer.innerHTML = '';
            
            if (history.length === 0) {
                recentContainer.innerHTML = `
                    <div class="empty-state">
                        <p>–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è</p>
                    </div>
                `;
                return;
            }
            
            // –ë–µ—Ä–µ–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ 5 —Ç–µ—Å—Ç—É–≤–∞–Ω—å
            const recentTests = [...history].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 5);
            
            recentTests.forEach(test => {
                const percentage = ((test.score / test.maxScore) * 100).toFixed(1);
                const statusClass = test.isPassed ? 'status-passed' : 'status-failed';
                
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <div class="history-date">${test.date}</div>
                    <strong>${test.cadetId}</strong> - "${test.testName}"<br>
                    –†–µ–∑—É–ª—å—Ç–∞—Ç: <strong>${test.score}/${test.maxScore}</strong> (${percentage}%) - 
                    <span class="${statusClass}">${test.status}</span>
                `;
                recentContainer.appendChild(item);
            });
        }

        // –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
        function populateTestSelect() {
            const testSelect = document.getElementById('current-test');
            
            // –û–Ω–æ–≤–∏—Ç–∏ —Ç–µ—Å—Ç–∏
            testSelect.innerHTML = '<option value="">-- –û–±–µ—Ä—ñ—Ç—å —Ç–µ—Å—Ç --</option>';
            tests.forEach(test => {
                const option = document.createElement('option');
                option.value = test.id;
                option.textContent = `${test.name} (${test.totalPoints} –±–∞–ª—ñ–≤, –º—ñ–Ω—ñ–º—É–º: ${test.minPassingScore})`;
                testSelect.appendChild(option);
            });
        }

        function createSampleTest() {
            const sampleTest = {
                id: 'test_sample',
                name: '–ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É',
                questions: [
                    {
                        text: '–Ø–∫—ñ –æ—Å–Ω–æ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å—Ç—Ä–æ—é –≤–∏ –∑–Ω–∞—î—Ç–µ?',
                        correctAnswer: '–®–µ—Ä–µ–Ω–≥–∞, –∫–æ–ª–æ–Ω–∞, —Ñ—Ä–æ–Ω—Ç, —Ç–∏–ª, —Ñ–ª–∞–Ω–≥, —ñ–Ω—Ç–µ—Ä–≤–∞–ª, –¥–∏—Å—Ç–∞–Ω—Ü—ñ—è',
                        points: 3
                    },
                    {
                        text: '–Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞ "–°–º–∏—Ä–Ω–æ"?',
                        correctAnswer: '–ü—ñ–¥–Ω—è—Ç—Ç—è –≥—Ä—É–¥–µ–π, –≤—ñ–¥–≤–µ–¥–µ–Ω–Ω—è –ø–ª–µ—á–µ–π –Ω–∞–∑–∞–¥, —Ä—É–∫–∏ –≤–∑–¥–æ–≤–∂ —Ç—É–ª—É–±–∞, –ø–∞–ª—å—Ü—ñ –∑—ñ–≥–Ω—É—Ç—ñ, –Ω–æ–≥–∏ —Ä–∞–∑–æ–º',
                        points: 4
                    },
                    {
                        text: '–û–ø–∏—à—ñ—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ –í—ñ–π—Å—å–∫–æ–≤–æ—ó –ü—Ä–∏—Å—è–≥–∏',
                        correctAnswer: '–ü–æ–±—É–¥–æ–≤–∞, –∑–∞—á–∏—Ç–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –ø—Ä–∏—Å—è–≥–∏, –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤, –≤—ñ—Ç–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏—Ä–∞',
                        points: 5
                    }
                ],
                totalPoints: 12,
                minPassingScore: 7,
                date: new Date().toLocaleString('uk-UA')
            };
            
            tests.push(sampleTest);
            localStorage.setItem('tests', JSON.stringify(tests));
            updateTestsList();
            populateTestSelect();
            showNotification('–ü—Ä–∏–∫–ª–∞–¥ —Ç–µ—Å—Ç—É —Å—Ç–≤–æ—Ä–µ–Ω–æ');
        }

        // –ü–æ—à—É–∫ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó
        document.getElementById('search-history').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.history-item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        });

        // –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏
        document.addEventListener('DOMContentLoaded', initialize);
    </script>
</body>
</html>
